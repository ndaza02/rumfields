---
// Testimonials section with customer feedback
---

<section class="py-20 bg-gray-50">
  <div class="container mx-auto px-6">
    <!-- Section Header -->
    <div class="text-center max-w-3xl mx-auto mb-16">
      <span class="inline-block text-primary font-semibold text-sm uppercase tracking-wider mb-3">Testimonials</span>
      <h2 class="text-3xl md:text-4xl font-bold text-dark mb-4">What Our Customers Say</h2>
      <p class="text-gray-600">Don't just take our word for it - hear from businesses and individuals who trust our products.</p>
    </div>
    
    <!-- Testimonials Slider -->
    <div class="testimonials-slider relative max-w-5xl mx-auto">
      <!-- Testimonial Items -->
      <div class="testimonial-slide">
        <div class="bg-white rounded-xl shadow-lg p-8 md:p-10">
          <div class="flex items-center mb-6">
            <div class="flex items-center">
              {[1, 2, 3, 4, 5].map((star) => (
                <svg key={star} class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                </svg>
              ))}
            </div>
          </div>
          <blockquote class="mb-6">
            <p class="text-lg text-gray-700 italic">"We've been using LubriTech oils in our fleet for over 5 years, and the difference in engine performance and longevity is remarkable. Our maintenance costs have decreased by 30% since we made the switch."</p>
          </blockquote>
          <div class="flex items-center">
            <img class="w-12 h-12 rounded-full object-cover mr-4" src="/images/testimonial-1.jpg" alt="Michael Johnson" />
            <div>
              <h4 class="font-bold text-dark">Michael Johnson</h4>
              <p class="text-gray-600 text-sm">Fleet Manager, TransGlobal Logistics</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="testimonial-slide">
        <div class="bg-white rounded-xl shadow-lg p-8 md:p-10">
          <div class="flex items-center mb-6">
            <div class="flex items-center">
              {[1, 2, 3, 4, 5].map((star) => (
                <svg key={star} class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                </svg>
              ))}
            </div>
          </div>
          <blockquote class="mb-6">
            <p class="text-lg text-gray-700 italic">"The thermal stability of these lubricants is impressive. Our industrial equipment runs 24/7 in extreme conditions, and we've seen a significant reduction in downtime since switching to LubriTech."</p>
          </blockquote>
          <div class="flex items-center">
            <img class="w-12 h-12 rounded-full object-cover mr-4" src="/images/testimonial-2.jpg" alt="Sarah Chen" />
            <div>
              <h4 class="font-bold text-dark">Sarah Chen</h4>
              <p class="text-gray-600 text-sm">Operations Director, Industrial Solutions Inc.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="testimonial-slide">
        <div class="bg-white rounded-xl shadow-lg p-8 md:p-10">
          <div class="flex items-center mb-6">
            <div class="flex items-center">
              {[1, 2, 3, 4, 5].map((star) => (
                <svg key={star} class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                </svg>
              ))}
            </div>
          </div>
          <blockquote class="mb-6">
            <p class="text-lg text-gray-700 italic">"As an automotive enthusiast, I'm very particular about the products I use. LubriTech's synthetic oil has improved my car's performance and fuel efficiency beyond my expectations. Highly recommended!"</p>
          </blockquote>
          <div class="flex items-center">
            <img class="w-12 h-12 rounded-full object-cover mr-4" src="/images/testimonial-3.jpg" alt="David Rodriguez" />
            <div>
              <h4 class="font-bold text-dark">David Rodriguez</h4>
              <p class="text-gray-600 text-sm">Automotive Enthusiast</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Navigation Arrows -->
      <button class="absolute left-0 top-1/2 transform -translate-y-1/2 -ml-4 md:-ml-8 bg-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors z-10" id="testimonial-prev">
        <span class="sr-only">Previous</span>
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>
      <button class="absolute right-0 top-1/2 transform -translate-y-1/2 -mr-4 md:-mr-8 bg-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors z-10" id="testimonial-next">
        <span class="sr-only">Next</span>
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
      
      <!-- Pagination Dots -->
      <div class="flex justify-center mt-8 space-x-2" id="testimonial-dots">
        <button class="w-3 h-3 rounded-full bg-primary/30 hover:bg-primary/60 transition-colors" data-index="0" aria-label="Go to slide 1"></button>
        <button class="w-3 h-3 rounded-full bg-primary/30 hover:bg-primary/60 transition-colors" data-index="1" aria-label="Go to slide 2"></button>
        <button class="w-3 h-3 rounded-full bg-primary/30 hover:bg-primary/60 transition-colors" data-index="2" aria-label="Go to slide 3"></button>
      </div>
    </div>
  </div>
</section>

<!-- GSAP Animations -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    if (typeof gsap !== 'undefined') {
      // Initialize testimonial slider
      const slides = document.querySelectorAll('.testimonial-slide');
      const prevBtn = document.getElementById('testimonial-prev');
      const nextBtn = document.getElementById('testimonial-next');
      const dots = document.querySelectorAll('#testimonial-dots button');
      
      let currentSlide = 0;
      const totalSlides = slides.length;
      
      // Hide all slides except the first one
      gsap.set(slides, { display: 'none' });
      gsap.set(slides[0], { display: 'block' });
      
      // Update active dot
      function updateDots(index) {
        dots.forEach((dot, i) => {
          if (i === index) {
            dot.classList.remove('bg-primary/30');
            dot.classList.add('bg-primary');
          } else {
            dot.classList.remove('bg-primary');
            dot.classList.add('bg-primary/30');
          }
        });
      }
      
      // Go to specific slide
      function goToSlide(index) {
        // Wrap around if at the beginning or end
        if (index >= totalSlides) index = 0;
        if (index < 0) index = totalSlides - 1;
        
        // Animate current slide out
        gsap.to(slides[currentSlide], {
          opacity: 0,
          x: index > currentSlide ? -50 : 50,
          duration: 0.5,
          ease: 'power2.inOut',
          onComplete: () => {
            gsap.set(slides[currentSlide], { display: 'none' });
          }
        });
        
        // Update current slide
        currentSlide = index;
        
        // Animate new slide in
        gsap.set(slides[currentSlide], { 
          display: 'block',
          opacity: 0,
          x: index > currentSlide ? 50 : -50 
        });
        
        gsap.to(slides[currentSlide], {
          opacity: 1,
          x: 0,
          duration: 0.5,
          ease: 'power2.inOut'
        });
        
        // Update dots
        updateDots(currentSlide);
      }
      
      // Event listeners
      if (prevBtn && nextBtn) {
        prevBtn.addEventListener('click', () => goToSlide(currentSlide - 1));
        nextBtn.addEventListener('click', () => goToSlide(currentSlide + 1));
      }
      
      // Dot navigation
      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          if (index !== currentSlide) {
            goToSlide(index);
          }
        });
      });
      
      // Auto-advance slides
      let slideInterval = setInterval(() => goToSlide(currentSlide + 1), 8000);
      
      // Pause on hover
      const slider = document.querySelector('.testimonials-slider');
      if (slider) {
        slider.addEventListener('mouseenter', () => {
          clearInterval(slideInterval);
        });
        
        slider.addEventListener('mouseleave', () => {
          clearInterval(slideInterval);
          slideInterval = setInterval(() => goToSlide(currentSlide + 1), 8000);
        });
      }
      
      // Initialize dots
      updateDots(0);
      
      // Animate in the first testimonial
      gsap.from(slides[0], {
        opacity: 0,
        y: 30,
        duration: 0.8,
        delay: 0.3
      });
    }
  });
</script>

<style>
  .testimonial-slide {
    transition: all 0.5s ease;
  }
  
  .testimonial-slide blockquote p::before,
  .testimonial-slide blockquote p::after {
    content: '"';
    font-family: Georgia, serif;
    font-size: 4rem;
    line-height: 1;
    color: rgba(255, 59, 0, 0.1);
    position: absolute;
  }
  
  .testimonial-slide blockquote p::before {
    top: -1rem;
    left: -1.5rem;
  }
  
  .testimonial-slide blockquote p::after {
    bottom: -2rem;
    right: 1rem;
  }
  
  .testimonial-slide blockquote {
    position: relative;
    padding: 1rem 0;
  }
  
  @media (max-width: 767px) {
    .testimonial-slide {
      padding: 0 1rem;
    }
    
    .testimonial-slide blockquote p::before,
    .testimonial-slide blockquote p::after {
      font-size: 3rem;
    }
    
    .testimonial-slide blockquote p::before {
      left: -0.5rem;
    }
  }
</style>
